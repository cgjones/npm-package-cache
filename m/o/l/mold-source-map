{"_id":"mold-source-map","_rev":"12-c446a4e09e7adf16a6f5eaf28391a545","name":"mold-source-map","description":"Mold a source map that is almost perfect for you into one that is.","dist-tags":{"latest":"0.4.0"},"versions":{"0.1.0":{"name":"mold-source-map","version":"0.1.0","description":"Mold a source map that is almost perfect for you into one that is.","main":"mold-source-map.js","scripts":{"test":"tap test/*.js"},"repository":{"type":"git","url":"git://github.com/thlorenz/mold-source-map.git"},"homepage":"https://github.com/thlorenz/mold-source-map","dependencies":{"convert-source-map":"~0.2.3","through":"~2.2.7"},"devDependencies":{"browserify":"~2.7.1","tap":"~0.4.0"},"keywords":["mold","change","modify","adapt","sourcemap","source","map","browserify"],"author":{"name":"Thorsten Lorenz","email":"thlorenz@gmx.de","url":"http://thlorenz.com"},"license":"MIT","engine":{"node":">=0.6"},"_id":"mold-source-map@0.1.0","dist":{"shasum":"2237b4f2fdb87fcfbc28402a0d9d0b3b0b70542d","tarball":"http://registry.npmjs.org/mold-source-map/-/mold-source-map-0.1.0.tgz"},"_npmVersion":"1.1.69","_npmUser":{"name":"thlorenz","email":"thlorenz@gmx.de"},"maintainers":[{"name":"thlorenz","email":"thlorenz@gmx.de"}],"directories":{}},"0.2.0":{"name":"mold-source-map","version":"0.2.0","description":"Mold a source map that is almost perfect for you into one that is.","main":"mold-source-map.js","scripts":{"test":"tap test/*.js"},"repository":{"type":"git","url":"git://github.com/thlorenz/mold-source-map.git"},"homepage":"https://github.com/thlorenz/mold-source-map","dependencies":{"through":"~2.2.7","convert-source-map":"~0.2.5"},"devDependencies":{"browserify":"~2.7.1","tap":"~0.4.0"},"keywords":["mold","change","modify","adapt","sourcemap","source","map","browserify"],"author":{"name":"Thorsten Lorenz","email":"thlorenz@gmx.de","url":"http://thlorenz.com"},"license":"MIT","engine":{"node":">=0.6"},"_id":"mold-source-map@0.2.0","dist":{"shasum":"7705bc0e5131b503a9fb0428063f9084baeeef2a","tarball":"http://registry.npmjs.org/mold-source-map/-/mold-source-map-0.2.0.tgz"},"_npmVersion":"1.1.69","_npmUser":{"name":"thlorenz","email":"thlorenz@gmx.de"},"maintainers":[{"name":"thlorenz","email":"thlorenz@gmx.de"}],"directories":{}},"0.2.1":{"name":"mold-source-map","version":"0.2.1","description":"Mold a source map that is almost perfect for you into one that is.","main":"mold-source-map.js","scripts":{"test":"tap test/*.js"},"repository":{"type":"git","url":"git://github.com/thlorenz/mold-source-map.git"},"homepage":"https://github.com/thlorenz/mold-source-map","dependencies":{"through":"~2.2.7","convert-source-map":"~0.2.5"},"devDependencies":{"tap":"~0.4.0","browserify":"~2.35.4"},"keywords":["mold","change","modify","adapt","sourcemap","source","map","browserify"],"author":{"name":"Thorsten Lorenz","email":"thlorenz@gmx.de","url":"http://thlorenz.com"},"license":"MIT","engine":{"node":">=0.6"},"bugs":{"url":"https://github.com/thlorenz/mold-source-map/issues"},"_id":"mold-source-map@0.2.1","dist":{"shasum":"b48add324e0bfc089b1e232ca3050bec237325b8","tarball":"http://registry.npmjs.org/mold-source-map/-/mold-source-map-0.2.1.tgz"},"_from":".","_npmVersion":"1.3.11","_npmUser":{"name":"thlorenz","email":"thlorenz@gmx.de"},"maintainers":[{"name":"thlorenz","email":"thlorenz@gmx.de"}],"directories":{}},"0.3.0":{"name":"mold-source-map","version":"0.3.0","description":"Mold a source map that is almost perfect for you into one that is.","main":"mold-source-map.js","scripts":{"test":"tap test/*.js"},"repository":{"type":"git","url":"git://github.com/thlorenz/mold-source-map.git"},"homepage":"https://github.com/thlorenz/mold-source-map","dependencies":{"through":"~2.2.7","convert-source-map":"~0.3.1"},"devDependencies":{"tap":"~0.4.0","browserify":"~2.35.4"},"keywords":["mold","change","modify","adapt","sourcemap","source","map","browserify"],"author":{"name":"Thorsten Lorenz","email":"thlorenz@gmx.de","url":"http://thlorenz.com"},"license":"MIT","engine":{"node":">=0.6"},"bugs":{"url":"https://github.com/thlorenz/mold-source-map/issues"},"_id":"mold-source-map@0.3.0","dist":{"shasum":"1dad51180dd8b6d269a75c0e5ea5299452450a58","tarball":"http://registry.npmjs.org/mold-source-map/-/mold-source-map-0.3.0.tgz"},"_from":".","_npmVersion":"1.3.11","_npmUser":{"name":"thlorenz","email":"thlorenz@gmx.de"},"maintainers":[{"name":"thlorenz","email":"thlorenz@gmx.de"}],"directories":{}},"0.3.1":{"name":"mold-source-map","version":"0.3.1","description":"Mold a source map that is almost perfect for you into one that is.","main":"mold-source-map.js","scripts":{"test":"tap test/*.js"},"repository":{"type":"git","url":"git://github.com/thlorenz/mold-source-map.git"},"homepage":"https://github.com/thlorenz/mold-source-map","dependencies":{"convert-source-map":"~0.3.5","through":"~2.2.7"},"devDependencies":{"tap":"~0.4.0","browserify":"~2.35.4"},"keywords":["mold","change","modify","adapt","sourcemap","source","map","browserify"],"author":{"name":"Thorsten Lorenz","email":"thlorenz@gmx.de","url":"http://thlorenz.com"},"license":"MIT","engine":{"node":">=0.6"},"gitHead":"2349a978508ad7fffb440f2615f1cab91f43721e","bugs":{"url":"https://github.com/thlorenz/mold-source-map/issues"},"_id":"mold-source-map@0.3.1","_shasum":"f365e184d88dfa8efd1f642a6187423eeede4718","_from":".","_npmVersion":"1.4.28","_npmUser":{"name":"thlorenz","email":"thlorenz@gmx.de"},"maintainers":[{"name":"thlorenz","email":"thlorenz@gmx.de"}],"dist":{"shasum":"f365e184d88dfa8efd1f642a6187423eeede4718","tarball":"http://registry.npmjs.org/mold-source-map/-/mold-source-map-0.3.1.tgz"},"directories":{}},"0.4.0":{"name":"mold-source-map","version":"0.4.0","description":"Mold a source map that is almost perfect for you into one that is.","main":"mold-source-map.js","scripts":{"test":"tap test/*.js"},"repository":{"type":"git","url":"git://github.com/thlorenz/mold-source-map.git"},"homepage":"https://github.com/thlorenz/mold-source-map","dependencies":{"convert-source-map":"^1.1.0","through":"~2.2.7"},"devDependencies":{"tap":"~0.4.0","browserify":"^10.2.0"},"keywords":["mold","change","modify","adapt","sourcemap","source","map","browserify"],"author":{"name":"Thorsten Lorenz","email":"thlorenz@gmx.de","url":"http://thlorenz.com"},"license":"MIT","engine":{"node":">=0.6"},"gitHead":"de1bc48b1ca7497834218bc0d2165b181c1423e6","bugs":{"url":"https://github.com/thlorenz/mold-source-map/issues"},"_id":"mold-source-map@0.4.0","_shasum":"cf67e0b31c47ab9badb5c9c25651862127bb8317","_from":".","_npmVersion":"2.6.1","_nodeVersion":"1.4.2","_npmUser":{"name":"thlorenz","email":"thlorenz@gmx.de"},"maintainers":[{"name":"thlorenz","email":"thlorenz@gmx.de"}],"dist":{"shasum":"cf67e0b31c47ab9badb5c9c25651862127bb8317","tarball":"http://registry.npmjs.org/mold-source-map/-/mold-source-map-0.4.0.tgz"},"directories":{}}},"readme":"# mold-source-map [![build status](https://secure.travis-ci.org/thlorenz/mold-source-map.png)](http://travis-ci.org/thlorenz/mold-source-map)\n\nMold a source map that is almost perfect for you into one that is.\n\n```js\nbrowserify()\n  .require(require.resolve('./project/js/main.js'), { entry: true })\n  .bundle({ debug: true })\n\n  // will show all source files relative to jsRoot inside devtools\n  .pipe(mold.transformSourcesRelativeTo(jsRoot))\n  .pipe(fs.createWriteStream(bundlePath));\n```\nFull example [here](https://github.com/thlorenz/mold-source-map/blob/master/examples/browserify-sources.js).\n\n## Installation\n\n    npm install mold-source-map\n\n## API\n\n### Transforms\n\nTransforms return a duplex stream and are therefore easily threaded into a bundler that streams the generated bundle,\nlike [browserify](https://github.com/substack/node-browserify).\n\n#### transform(function map(sourcemap[, callback]) {})\n\nThis is the most generic and powerfull feature as it allows replacing the entire sourcemap comment with another `String`.\n\nIt takes a map function as input whose `sourcemap` argument has all information and lots of functions regarding the existing source map.\n\nThe optional `callback` can be used to call back with the final source map comment. If it is given, the transform will\ninvoke the function asynchronously, otherwise you may just return the final source map comment.\n\nHere is a snippet from [an example](https://github.com/thlorenz/mold-source-map/blob/master/examples/browserify-external-map-file.js) \nshowing how to use this in order to write out an external map file and point the browser to it:\n\n```js\nfunction mapFileUrlComment(sourcemap, cb) {\n  \n  // make source files appear under the following paths:\n  // /js\n  //    foo.js\n  //    main.js\n  // /js/wunder\n  //    bar.js \n  \n  sourcemap.sourceRoot('file://'); \n  sourcemap.mapSources(mold.mapPathRelativeTo(jsRoot));\n\n  // write map file and return a sourceMappingUrl that points to it\n  fs.writeFile(mapFilePath, sourcemap.toJSON(2), 'utf-8', function (err) {\n    if (err) return console.error(err);\n    cb('//@ sourceMappingURL=' + path.basename(mapFilePath));\n  });\n}\n\nbrowserify()\n  .require(require.resolve('./project/js/main.js'), { entry: true })\n  .bundle({ debug: true })\n  .pipe(mold.transform(mapFileUrlComment))\n  .pipe(fs.createWriteStream(bundlePath));\n```\n\n[This example](https://github.com/thlorenz/mold-source-map/blob/master/examples/browserify-external-map-file-sync.js) achieves the same using sync operations.\n\n### Convenience Transforms\n\nThe below transforms addressing special use cases. These cases all could be implemented with the generic transform as well.\n\n### transformSourcesRelativeTo(root : String)\n\n```\n/**\n * Adjusts all sources paths inside the source map contained in the content that is piped to it.\n *\n * Example: bundleStream.pipe(mold.sourcesRelative(root)).pipe(fs.createWriteStream(bundlePath))\n *\n * @name sourcesRelative\n * @function\n * @param root {String} The path to make sources relative to.\n * @return {Stream} A duplex stream that writes out content with source map that had all sources paths adjusted.\n */\n ```\n\n## Unstable API\n\nA more custom/advanced API will be/is exposed, however it is still in high fluctuation.\n\nTake a look at the `index.js` to get an idea of what's coming/already there.\n","maintainers":[{"name":"thlorenz","email":"thlorenz@gmx.de"}],"time":{"modified":"2015-05-14T21:28:39.928Z","created":"2013-03-18T13:01:07.419Z","0.1.0":"2013-03-18T13:01:08.280Z","0.2.0":"2013-03-19T13:03:33.478Z","0.2.1":"2013-11-21T03:37:06.486Z","0.3.0":"2013-11-21T03:52:08.501Z","0.3.1":"2015-04-21T16:16:29.687Z","0.4.0":"2015-05-14T21:28:39.928Z"},"author":{"name":"Thorsten Lorenz","email":"thlorenz@gmx.de","url":"http://thlorenz.com"},"repository":{"type":"git","url":"git://github.com/thlorenz/mold-source-map.git"},"users":{"fairchild":true},"homepage":"https://github.com/thlorenz/mold-source-map","keywords":["mold","change","modify","adapt","sourcemap","source","map","browserify"],"bugs":{"url":"https://github.com/thlorenz/mold-source-map/issues"},"license":"MIT","readmeFilename":"README.md","_attachments":{}}